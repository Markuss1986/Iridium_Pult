#:kivy 2.0


BoxLayout:
    id: MainApp
    orientation: 'vertical'


    BoxLayout:
        id: box_button
        orientation: 'horizontal'
        size_hint: 1, 0.1


        ToggleButton:
            group: 'screen'
            size_hint: 1, 1
            pos_hint: {'top': 1}
            text: 'Screen view'
            background_color: 1, 1, 1, 1
            on_release: app.on_btn_screen_1()

        ToggleButton:
            group: 'screen'
            size_hint: 1, 1
            pos_hint: {'top': 1}
            text: 'Screen send'
            background_color: 1, 1, 1, 1
            on_release: app.on_btn_screen_2()

        ToggleButton:
            group: 'screen'
            size_hint: 1, 1
            pos_hint: {'top': 1}
            text: 'Screen settings'
            background_color: 1, 1, 1, 1
            on_release: app.on_btn_screen_3()

    ScreenManager:
        id: sm
        on_parent: app.uiDict['sm'] = self
        Screen:
            name: 'screen_view'
            BoxLayout:
                orientation: 'vertical'

                ScrollView:
                    size_hint_y: None
                    BoxLayout:
                        id: box_list
                        orientation: 'vertical'
                        on_parent: app.uiDict['box_list'] = self
                        size_hint_y: None
                        height: max(self.minimum_height, self.parent.height)

        Screen:
            name: 'screen_send'
            BoxLayout:
                orientation: 'vertical'
                ScrollView:
                    size_hint_y: None
                    height: '1dp'
                BoxLayout:
                    orientation: 'horizontal'
                    Label:
                        text: 'this on top'

                    BoxLayout:
                        orientation: 'vertical'

                        BoxLayout:
                            orientation: 'vertical'
                            TextInput:
                                multiline: False
                                readonly: True
                                halign: "right"
                                font_size: 60
                                id: solution
                                on_parent: app.uiDict['txtInput_write'] = self
                                size_hint_y: .8
                                height: max(self.minimum_height, self.parent.height)
                                text: '0'
                        BoxLayout:
                            Button:
                                text: 'Авария'
                                on_press: solution.text = "Отправка: авария"

                        BoxLayout:
                            Button:
                                text: '7'
                                id: button_7
                                on_press: solution.text = app.on_button_press(button_7.text,solution.text)
                            Button:
                                text: '8'
                                id: button_8
                                on_press:   solution.text = app.on_button_press(button_8.text,solution.text)
                            Button:
                                text: '9'
                                id: button_9
                                on_press:   solution.text = app.on_button_press(button_9.text,solution.text)
                        BoxLayout:
                            Button:
                                text: '4'
                                id: button_4
                                on_press: solution.text = app.on_button_press(button_4.text,solution.text)
                            Button:
                                text: '5'
                                id: button_5
                                on_press: solution.text = app.on_button_press(button_5.text,solution.text)
                            Button:
                                text: '6'
                                id: button_6
                                on_press: solution.text = app.on_button_press(button_6.text,solution.text)
                        BoxLayout:
                            Button:
                                text: '1'
                                id: button_1
                                on_press: solution.text = app.on_button_press(button_1.text,solution.text)
                            Button:
                                text: '2'
                                id: button_2
                                on_press: solution.text = app.on_button_press(button_2.text,solution.text)
                            Button:
                                text: '3'
                                id: button_3
                                on_press: solution.text = app.on_button_press(button_3.text,solution.text)
                        BoxLayout:
                            Button:
                                text: 'Отправить'
                                id: button_send
                                on_press: solution.text = app.on_button_press(button_send.text,solution.text)
                            Button:
                                text: '0'
                                id: button_0
                                on_press: solution.text = app.on_button_press(button_0.text,solution.text)
                            Button:
                                text: 'Очистка'
                                id: button_clear
                                on_press: solution.text = app.on_button_press(button_clear.text,solution.text)

        Screen:
            name: 'screen_settings'
            BoxLayout:
                orientation: 'vertical'
                ScrollView:
                    size_hint_y: None
                    height: '50dp'
                    TextInput:
                        id: txtInput_write
                        on_parent: app.uiDict['txtInput_write'] = self
                        size_hint_y: None
                        height: max(self.minimum_height, self.parent.height)
                        text: ''
                Button:
                    id: btn_write
                    on_parent: app.uiDict['btn_write'] = self
                    size_hint_y: None
                    height: '50dp'
                    text: 'Write'
                    on_release: app.on_btn_write_release()
                ScrollView:
                    TextInput:
                        id: txtInput_read
                        on_parent: app.uiDict['txtInput_read'] = self
                        size_hint_y: None
                        height: max(self.minimum_height, self.parent.height)
                        readonly: True
                        text: ''

    BoxLayout:
        orientation: 'horizontal'
        size_hint_y: 0.05
        Label:
            text: 'Связь'
        Label:
            text: 'Ант 1'
        Label:
            text: 'Ант 2'
        Label:
            text: 'Ант 3'
        Label:
            text: 'Ант 4'
        Label:
            text: 'Название шахты'
        Label:
            text: "Дата"
        Label:
            text: 'Время'